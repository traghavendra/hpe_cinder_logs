{0} setUpClass (tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test) ... SKIPPED: Less than 2 compute nodes, skipping migration test.
{0} setUpClass (tempest.api.compute.admin.test_live_migration.LiveMigrationTest) ... SKIPPED: Less than 2 compute nodes, skipping migration test.
{0} tempest.api.compute.admin.test_volumes_negative.UpdateMultiattachVolumeNegativeTest.test_multiattach_rw_volume_update_failure [35.045110s] ... ok
{0} tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body [10.828910s] ... ok
{0} tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_uri [1.325326s] ... ok
{0} tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_attached_volume [17.505088s] ... ok
{0} setUpClass (tempest.api.compute.servers.test_server_rescue.ServerBootFromVolumeStableRescueTest) ... SKIPPED: Stable rescue not available.
{0} setUpClass (tempest.api.compute.servers.test_server_rescue.ServerStableDeviceRescueTest) ... SKIPPED: Stable rescue not available.
{0} tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_attach_volume [10.185562s] ... ok
{0} tempest.api.compute.servers.test_servers_negative.ServersNegativeTestJSON.test_create_server_from_non_bootable_volume [1.764695s] ... ok
{0} tempest.api.compute.servers.test_servers_negative.ServersNegativeTestJSON.test_create_server_invalid_bdm_in_2nd_dict [1.666993s] ... ok
{0} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [4.169203s] ... ok
{0} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [1.656370s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.083003s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.079284s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.139423s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.063947s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.116489s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.069504s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.136215s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.012423s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.013579s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.043985s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.012679s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.007217s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.035486s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.042078s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.111168s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.037013s] ... ok
{0} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [10.409625s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [12.687575s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [6.680436s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status [8.267719s] ... ok
{0} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.480450s] ... ok
{0} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show_delete [0.317559s] ... ok
{0} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_list_by_optional_params [0.239158s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [6.825112s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [7.815238s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [7.092823s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [2.925681s] ... ok
{0} tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest.test_backend_name_distinction [0.092712s] ... ok
{0} tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest.test_backend_name_distinction_with_prefix [0.089024s] ... ok
{0} tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest.test_backend_name_reporting [0.071210s] ... ok
{0} tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest.test_backend_name_reporting_with_prefix [0.091003s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.425064s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.126313s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.122598s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.111179s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.020348s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.023785s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.149122s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.227919s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [2.495851s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [2.452008s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [2.497080s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [2.494910s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.192029s] ... ok
{0} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.604187s] ... ok
{0} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.384749s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.116489s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.197060s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_with_details [0.131302s] ... ok
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.032616s] ... ok
{0} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.115522s] ... ok
{0} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.711015s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.348081s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.032577s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.036323s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [2.677268s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas.py", line 130, in test_quota_usage
    self.assertEqual(quota_usage['volumes']['in_use'] + 1,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 393, in assertEqual
    self.assertThat(observed, matcher, message)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 1 != 0


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:26:49,260 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.041s
2022-04-12 15:26:49,260 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-16b97b9b-68f9-476f-af79-89551069727e', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-16b97b9b-68f9-476f-af79-89551069727e', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:49,562 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 202 POST http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes 0.293s
2022-04-12 15:26:49,563 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-708503bc-7fa2-47a5-8279-1f80e68683b2', 'content-length': '823', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-708503bc-7fa2-47a5-8279-1f80e68683b2', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.498879", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "m
    ultiattach": false, "attachments": []}}'
2022-04-12 15:26:49,608 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.038s
2022-04-12 15:26:49,608 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-bdf79637-ff75-43a9-807e-eeb979d0bd83', 'content-length': '891', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-bdf79637-ff75-43a9-807e-eeb979d0bd83', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.000000", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:50,657 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.043s
2022-04-12 15:26:50,657 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-775cf496-f8dc-43e0-a536-27ba43be5ab9', 'content-length': '916', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-775cf496-f8dc-43e0-a536-27ba43be5ab9', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.000000", "updated_at": "2022-04-12T15:26:50.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:50,664 142989 INFO     [tempest.common.waiters] volume dfeb8c32-009b-4009-8d82-6588a2e65152 reached available after waiting for 1.664119 seconds
2022-04-12 15:26:50,712 142989 INFO     [tem
    pest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.048s
2022-04-12 15:26:50,713 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-da62a25c-0e4e-41e8-b13a-a6b0978acad1', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-da62a25c-0e4e-41e8-b13a-a6b0978acad1', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:50,805 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 202 DELETE http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.056s
2022-04-12 15:26:50,805 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '0', 'content-type': 'text/html; charset=UTF-8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-53ecaa5e-234a-4d51-b80b-1504aae8ed1b', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b''
2022-04-12 15:26:50,851 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.045s
2022-04-12 15:26:50,852 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-d0fd8e6f-e71b-4b4e-8618-f34437448c36', 'content-length': '915', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d0fd8e6f-e71b-4b4e-8618-f34437448c36', 'connection': 'close', 'status': '200', 'content-location': 'http://1
    92.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "deleting", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.000000", "updated_at": "2022-04-12T15:26:51.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:51,891 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 404 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.027s
2022-04-12 15:26:51,892 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'content-length': '109', 'content-type': 'application/json', 'x-compute-request-id': 'req-382b6a9e-ae8a-4f5e-84a6-c6da6c0a8b3e', 'x-openstack-request-id': 'req-382b6a9e-ae8a-4f5e-84a6-c6da6c0a8b3e', 'connection': 'close', 'status': '404', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Volume dfeb8c32-009b-4009-8d82-6588a2e65152 could not be found."}}'

{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [3.875809s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas.py", line 181, in test_quota_usage_after_volume_transfer
    self.assertEqual(alt_quota['gigabytes']['in_use'] +

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 393, in assertEqual
    self.assertThat(observed, matcher, message)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 1 != 0


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:26:52,669 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 202 POST http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes 0.771s
2022-04-12 15:26:52,669 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-d1a9a3fd-05e6-4b07-9c72-fbc637e43b9d', 'content-length': '821', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d1a9a3fd-05e6-4b07-9c72-fbc637e43b9d', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.145290", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": []}}'
2022-04-12 15:26:52,711 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.035s
2022-04-12 15:26:52,711 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-ad6f14b7-331d-4d47-bae8-4dffb634ea64', 'content-length': '889', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ad6f14b7-331d-4d47-bae8-4dffb634ea64', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:53,759 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.043s
2022-04-12 15:26:53,
    760 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-d02e2002-65ba-48cb-aac2-80b3f83ed21e', 'content-length': '914', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d02e2002-65ba-48cb-aac2-80b3f83ed21e', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": "2022-04-12T15:26:53.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:53,763 142989 INFO     [tempest.common.waiters] volume 04308a0d-a983-4abc-a138-b72d38083552 reached available after waiting for 1.763325 seconds
2022-04-12 15:26:53,805 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.042s
2022-04-12 15:26:53,805 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-625dec48-1ecb-4900-ad8f-cfac9e0e47db', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-625dec48-1ecb-4900-ad8f-cfac9e0e47db', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "9
    85b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:53,808 142989 WARNING  [tempest.lib.common.rest_client] Deprecated: "tenant_id" property is deprecated for removal, use "project_id" instead
2022-04-12 15:26:53,846 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True 0.038s
2022-04-12 15:26:53,847 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-cde1b08b-bbc0-49b7-a09f-a25c71344d96', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cde1b08b-bbc0-49b7-a09f-a25c71344d96', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "5a552b06e93b46e6a540ac4b73abfb87"}}'
2022-04-12 15:26:53,908 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 202 POST http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer 0.057s
2022-04-12 15:26:53,908 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"transfer": {"volume_id": "04308a0d-a983-4abc-a138-b72d38083552"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-22408e08-9dbc-46f2-afed-f20f8c2afbad', 'content-length': '511', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-22408e08-9dbc-46f2-afed-f20f8c2afbad', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer'}
        Body: b'{"transfer": {"id": "b9f61e90-5233-4be4-8c7a-3c425ea6d066", "created_at": "2022-04-12T15:26:53.898315", "name": null, "volume_id": "04308a0d-a983-4abc-a138-b72d38083552", "auth_key": "9e5dde9ba5556a09", "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}]}}'
2022-04-12 15:26:54,484 142989
     INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 202 POST http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066/accept 0.574s
2022-04-12 15:26:54,485 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"accept": {"auth_key": "9e5dde9ba5556a09"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-660f231f-6d26-4952-b609-b901f993b7df', 'content-length': '435', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-660f231f-6d26-4952-b609-b901f993b7df', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066/accept'}
        Body: b'{"transfer": {"id": "b9f61e90-5233-4be4-8c7a-3c425ea6d066", "volume_id": "04308a0d-a983-4abc-a138-b72d38083552", "name": null, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}]}}'
2022-04-12 15:26:54,523 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.036s
2022-04-12 15:26:54,524 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-b3229f92-2a1b-440a-818c-efc78939153f', 'content-length': '914', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b3229f92-2a1b-440a-818c-efc78939153f', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": "2022-04-12T15:26:54.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "b799e20172134a56b8aa37435648fb3d", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "5a552b06e93b46e6a540ac4b73abfb87"}}'
2022-04-12 15:26:54,527 142989 INFO     [tempest.common.waiters] volume 04308a0d-a983-4abc-a138-b72d38083552 reached available after waiting for 0.527451 seconds
2022-04-12 15:26:54,572 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.044s
2022-04-12 15:26:54,572 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth
    -Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-05a585cb-fd61-42b0-9ea7-9ad88f60d72f', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-05a585cb-fd61-42b0-9ea7-9ad88f60d72f', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:54,634 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True 0.057s
2022-04-12 15:26:54,635 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-cacaa3bb-f7b8-46b3-8fe9-96955c911bd4', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cacaa3bb-f7b8-46b3-8fe9-96955c911bd4', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use":
     0, "reserved": 0}, "id": "5a552b06e93b46e6a540ac4b73abfb87"}}'
2022-04-12 15:26:54,693 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 202 DELETE http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.052s
2022-04-12 15:26:54,693 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '0', 'content-type': 'text/html; charset=UTF-8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-465069ac-d702-4d55-af90-7c775e3f6c9b', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b''
2022-04-12 15:26:54,739 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.045s
2022-04-12 15:26:54,739 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-57b89ec5-948b-4ee6-a47b-6209d2141d33', 'content-length': '1072', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-57b89ec5-948b-4ee6-a47b-6209d2141d33', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "deleting", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": "2022-04-12T15:26:55.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "b799e20172134a56b8aa37435648fb3d", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "os-vol-tenant-attr:tenant_id": "5a552b06e93b46e6a540ac4b73abfb87", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-host-attr:host": "ubuntu@3par1#RT_DEST_CPG"}}'
2022-04-12 15:26:55,770 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 404 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.024s
2022-04-12 15:26:55,771 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'content-length': '109', 'content-type': 'application/json', 'x-compute-request-id': 'req-b1350cf7-1bd2-4065-897c-992b9936e4b6', 'x-openstack-request-id': 'req-b1350cf7-1bd2-4065-897c-992b9936e4b6', 'connection': 'close', 'status': '404', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a1
    38-b72d38083552'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Volume 04308a0d-a983-4abc-a138-b72d38083552 could not be found."}}'

{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.052891s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.305163s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.219482s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.290448s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas_negative.py", line 59, in test_quota_volumes
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method VolumesClient.create_volume of <tempest.lib.services.volume.v3.volumes_client.VolumesClient object at 0x7f59e054e4c0>> returned {'volume': {'id': '3ab8150d-5bed-4331-bc2d-a0dc334acf01', 'status': 'creating', 'size': 1, 'availability_zone': 'nova', 'created_at': '2022-04-12T15:27:01.215228', 'updated_at': None, 'name': None, 'description': None, 'volume_type': '3par1', 'snapshot_id': None, 'source_volid': None, 'metadata': {}, 'links': [{'rel': 'self', 'href': 'http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01'}, {'rel': 'bookmark', 'href': 'http://192.168.79.47/volume/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01'}], 'user_id': 'fa946fc1158d4402a601fa4352434de1', 'bootable': 'false', 'encrypted': False, 'replication_status': None, 'consistencygroup_id': None, 'multiattach': False, 'attachments': []}}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:01,105 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_quota_volumes): 200 PUT http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4 0.104s
2022-04-12 15:27:01,105 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"volumes": 1, "gigabytes": -1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-f6717088-c100-466e-8b94-c1c6b92830d7', 'content-length': '450', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f6717088-c100-466e-8b94-c1c6b92830d7', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 10, "gigabytes": -1, "backups": 10, "backup_gigabytes": 1000, "volumes_3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'
2022-04-12 15:27:01,283 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_quota_volumes): 202 POST http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes 0.174s
2022-04-12 15:27:01,284 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-53079da1-2947-432a-89f1-99ad8ca10f4f', 'content-length': '774', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-53079da1-2947-432a-89f1-99ad8ca10f4f', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes'}
        Body: b'{"volume": {"id": "3ab8150d-5bed-4331-bc2d-a0dc334acf01", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:27:01.215228", "updated_at": null, "name": null, "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01"}], "user_id": "fa946fc1158d4402a601fa4352434de1", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": []}}'

{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.162232s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas_negative.py", line 79, in test_volume_extend_gigabytes_quota_deviation
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method VolumesClient.extend_volume of <tempest.lib.services.volume.v3.volumes_client.VolumesClient object at 0x7f59e054e4c0>> returned {}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:01,356 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_volume_extend_gigabytes_quota_deviation): 200 PUT http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4 0.064s
2022-04-12 15:27:01,357 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"gigabytes": 1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-bb639cd8-2554-4f04-b9b4-202eb4b10f6b', 'content-length': '449', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-bb639cd8-2554-4f04-b9b4-202eb4b10f6b', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 10, "gigabytes": 1, "backups": 10, "backup_gigabytes": 1000, "volumes_3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'
2022-04-12 15:27:01,453 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_volume_extend_gigabytes_quota_deviation): 202 POST http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/2341101f-a8c0-4585-bc39-32f3efb106c8/action 0.094s
2022-04-12 15:27:01,453 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"os-extend": {"new_size": 2}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'x-compute-request-id': 'req-b275abf9-40e7-495a-ac68-6bf717cdc203', 'content-length': '0', 'content-type': 'application/json', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b275abf9-40e7-495a-ac68-6bf717cdc203', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/2341101f-a8c0-4585-bc39-32f3efb106c8/action'}
        Body: b''

{0} tearDownClass (tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 220, in tearDownClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 192, in tearDownClass
    teardown()

      File "/opt/stack/tempest/tempest/test.py", line 602, in resource_cleanup
    raise testtools.MultipleExceptions(*cleanup_errors)

    testtools.runtest.MultipleExceptions: (<class 'tempest.lib.exceptions.BadRequest'>, Bad request
Details: {'code': 400, 'message': 'Invalid volume: Volume status must be available or error or error_restoring or error_extending or error_managing and must not be migrating, attached, belong to a group, have snapshots or be disassociated from snapshots after volume transfer.'}, <traceback object at 0x7f59e0428540>)

{0} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [2.828691s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.023015s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.027439s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.016478s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [1.505344s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.021417s] ... ok
{0} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.015999s] ... ok
{0} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.018925s] ... ok
{0} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.027498s] ... ok
{0} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.018515s] ... ok
{0} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.021878s] ... ok
{0} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.316338s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py", line 88, in test_quota_volume_gigabytes_snapshots
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method SnapshotsClient.create_snapshot of <tempest.lib.services.volume.v3.snapshots_client.SnapshotsClient object at 0x7f59dffdf6d0>> returned {'snapshot': {'id': '876a1074-d8da-4f90-a9b0-b47ab627d060', 'created_at': '2022-04-12T15:27:21.445683', 'updated_at': None, 'name': None, 'description': None, 'volume_id': 'cf886fb3-74ed-4071-8915-383188faf71b', 'status': 'creating', 'size': 1, 'metadata': {}}}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:21,373 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:test_quota_volume_gigabytes_snapshots): 200 PUT http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4 0.087s
2022-04-12 15:27:21,373 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"gigabytes": 2, "volumes": 1, "snapshots": 2}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-487d7cda-6b17-46c0-bafe-04ee2dd640ee', 'content-length': '448', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-487d7cda-6b17-46c0-bafe-04ee2dd640ee', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 2, "gigabytes": 2, "backups": 10, "backup_gigabytes": 1000, "volumes_3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'
2022-04-12 15:27:21,514 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:test_quota_volume_gigabytes_snapshots): 202 POST http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots 0.137s
2022-04-12 15:27:21,514 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "cf886fb3-74ed-4071-8915-383188faf71b"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-3f135b44-297e-48e7-a32f-5f2865cab02f', 'content-length': '261', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3f135b44-297e-48e7-a32f-5f2865cab02f', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots'}
        Body: b'{"snapshot": {"id": "876a1074-d8da-4f90-a9b0-b47ab627d060", "created_at": "2022-04-12T15:27:21.445683", "updated_at": null, "name": null, "description": null, "volume_id": "cf886fb3-74ed-4071-8915-383188faf71b", "status": "creating", "size": 1, "metadata": {}}}'
2022-04-12 15:27:21,598 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:_run_cleanups): 200 PUT http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4 0.080s
2022-04-12 15:27:21,598 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"gigabytes": 3, "volumes": 1, "snapshots": 1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-e0d040be-3411-454f-8e81-bc02062b92f6', 'content-length': '448', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-e0d040be-3411-454f-8e81-bc02062b92f6', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 1, "gigabytes": 3, "backups": 10, "backup_gigabytes": 1000, "volumes
    _3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'

{0} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.115139s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py", line 72, in test_quota_volume_snapshots
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method SnapshotsClient.create_snapshot of <tempest.lib.services.volume.v3.snapshots_client.SnapshotsClient object at 0x7f59dffdf6d0>> returned {'snapshot': {'id': 'd6a1e564-b69a-4b41-98ec-9e8a103bb844', 'created_at': '2022-04-12T15:27:21.666515', 'updated_at': None, 'name': None, 'description': None, 'volume_id': 'cf886fb3-74ed-4071-8915-383188faf71b', 'status': 'creating', 'size': 1, 'metadata': {}}}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:21,713 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:test_quota_volume_snapshots): 202 POST http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots 0.110s
2022-04-12 15:27:21,714 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "cf886fb3-74ed-4071-8915-383188faf71b"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-c2746a17-a033-4f3d-a365-731039dbb9c4', 'content-length': '261', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c2746a17-a033-4f3d-a365-731039dbb9c4', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots'}
        Body: b'{"snapshot": {"id": "d6a1e564-b69a-4b41-98ec-9e8a103bb844", "created_at": "2022-04-12T15:27:21.666515", "updated_at": null, "name": null, "description": null, "volume_id": "cf886fb3-74ed-4071-8915-383188faf71b", "status": "creating", "size": 1, "metadata": {}}}'

{0} tearDownClass (tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON) [0.000000s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 220, in tearDownClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 192, in tearDownClass
    teardown()

      File "/opt/stack/tempest/tempest/test.py", line 602, in resource_cleanup
    raise testtools.MultipleExceptions(*cleanup_errors)

    testtools.runtest.MultipleExceptions: (<class 'tempest.lib.exceptions.BadRequest'>, Bad request
Details: {'code': 400, 'message': 'Invalid volume: Volume status must be available or error or error_restoring or error_extending or error_managing and must not be migrating, attached, belong to a group, have snapshots or be disassociated from snapshots after volume transfer.'}, <traceback object at 0x7f59dfee41c0>)

{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_add [1.694952s] ... ok
{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.178441s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_crud_with_volume_type_and_extra_specs [2.890304s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.069045s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.298589s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.079388s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.147667s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.390985s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.074867s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.214546s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.017013s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.013238s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.034130s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.021639s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.021187s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.019123s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.016052s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.013028s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.011009s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.026015s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.031712s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.029392s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.131629s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_with_private_volume_type [0.155137s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.011486s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.053717s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.019912s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.016037s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [12.104319s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [2.504998s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [2.605528s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [2.541291s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [2.528130s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [1.935689s] ... ok
{0} tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest.test_volume_backup_export_import [68.598273s] ... ok
{0} tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest.test_volume_backup_reset_status [52.203376s] ... ok
{0} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [1.633427s] ... ok
{0} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.110672s] ... ok
{0} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.106070s] ... ok
{0} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.230400s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.299911s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.232264s] ... ok
{0} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.011891s] ... ok
{0} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.113835s] ... ok
{0} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.056054s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_absolute_limits.py", line 53, in test_get_volume_absolute_limits
    self.assertEqual(absolute_limits['totalGigabytesUsed'],

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 393, in assertEqual
    self.assertThat(observed, matcher, message)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 0 != 1


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:31:10,683 142989 INFO     [tempest.lib.common.rest_client] Request (AbsoluteLimitsTests:test_get_volume_absolute_limits): 200 GET http://192.168.79.47/volume/v3/75bc603c8d3b42d6ae9ad57ff064140d/limits 0.044s
2022-04-12 15:31:10,683 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:31:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-4bc1cd5d-b976-4b9c-9da9-53a949dad3aa', 'content-length': '302', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-4bc1cd5d-b976-4b9c-9da9-53a949dad3aa', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/75bc603c8d3b42d6ae9ad57ff064140d/limits'}
        Body: b'{"limits": {"rate": [], "absolute": {"maxTotalVolumes": 10, "maxTotalSnapshots": 10, "maxTotalVolumeGigabytes": 1000, "maxTotalBackups": 10, "maxTotalBackupGigabytes": 1000, "totalVolumesUsed": 0, "totalGigabytesUsed": 0, "totalSnapshotsUsed": 0, "totalBackupsUsed": 0, "totalBackupGigabytesUsed": 0}}}'

{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [5.100384s] ... ok
{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [8.282160s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.311123s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.206969s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [3.546139s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [2.759103s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [3.407927s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [2.729466s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [9.597407s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [9.197964s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.180574s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.190398s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.194146s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [27.013721s] ... ok
{0} tempest.api.volume.test_volumes_backup.VolumesBackupsTest.test_bootable_volume_backup_and_restore [82.109828s] ... ok
{0} tempest.api.volume.test_volumes_backup.VolumesBackupsTest.test_volume_backup_create_get_detailed_list_restore_delete [82.477254s] ... ok
{0} tempest.api.volume.test_volumes_backup.VolumesBackupsV39Test.test_update_backup [37.799266s] ... ok
{0} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [15.534736s] ... ok
{0} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [2.715183s] ... ok
{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [1.570970s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [24.249708s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [15.401411s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [3.830874s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [5.249012s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [6.510643s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [17.868667s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.103351s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.055958s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.043355s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.055565s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.246739s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.118199s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.219614s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.067775s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.053546s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.086131s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.064480s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.076479s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.050767s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.097518s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.093121s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.116006s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.063077s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.099002s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.073304s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [8.739551s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [2.458961s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [2.433818s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.017002s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.023457s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.024461s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.026946s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.014265s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.015430s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.010360s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.021801s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.010593s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.020194s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.022424s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.011400s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.056952s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.055733s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.067284s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.054650s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.111277s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.019007s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.014932s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.012525s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.017058s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.017053s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.015775s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.008040s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.007479s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.014739s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.007482s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.014077s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.242068s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_backup [50.929330s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [39.077857s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [2.441152s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [25.055517s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [7.127712s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [5.090366s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.033701s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.060052s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.021627s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.069302s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.035371s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.039782s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.031275s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.039482s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.043519s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.036444s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.036375s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.108692s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.095414s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.155471s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.047156s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.013818s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.018339s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.014648s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [2.648224s] ... ok
{0} tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes.test_encrypted_cinder_volumes_cryptsetup [22.648358s] ... ok
{0} tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes.test_encrypted_cinder_volumes_luks [29.351540s] ... ok
{0} tempest.scenario.test_shelve_instance.TestShelveInstance.test_shelve_volume_backed_instance ... SKIPPED: The public_network_id option must be specified.
{0} tempest.scenario.test_stamp_pattern.TestStampPattern.test_stamp_pattern ... SKIPPED: The public_network_id option must be specified.
{0} tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_boot_server_from_encrypted_volume_luks [23.962228s] ... ok
{0} tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_create_server_from_volume_snapshot [34.267484s] ... ok
{0} tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_image_defined_boot_from_volume [46.561471s] ... ok
{0} tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern ... SKIPPED: The public_network_id option must be specified.

==============================
Failed 9 tests - output below:
==============================

tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage[id-ae8b6091-48ad-4bfa-a188-bbf5cc02115f]
-------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas.py", line 130, in test_quota_usage
    self.assertEqual(quota_usage['volumes']['in_use'] + 1,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 393, in assertEqual
    self.assertThat(observed, matcher, message)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 1 != 0


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:26:49,260 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.041s
2022-04-12 15:26:49,260 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-16b97b9b-68f9-476f-af79-89551069727e', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-16b97b9b-68f9-476f-af79-89551069727e', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:49,562 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 202 POST http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes 0.293s
2022-04-12 15:26:49,563 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-708503bc-7fa2-47a5-8279-1f80e68683b2', 'content-length': '823', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-708503bc-7fa2-47a5-8279-1f80e68683b2', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.498879", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "m
    ultiattach": false, "attachments": []}}'
2022-04-12 15:26:49,608 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.038s
2022-04-12 15:26:49,608 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-bdf79637-ff75-43a9-807e-eeb979d0bd83', 'content-length': '891', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-bdf79637-ff75-43a9-807e-eeb979d0bd83', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.000000", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:50,657 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.043s
2022-04-12 15:26:50,657 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-775cf496-f8dc-43e0-a536-27ba43be5ab9', 'content-length': '916', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-775cf496-f8dc-43e0-a536-27ba43be5ab9', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.000000", "updated_at": "2022-04-12T15:26:50.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:50,664 142989 INFO     [tempest.common.waiters] volume dfeb8c32-009b-4009-8d82-6588a2e65152 reached available after waiting for 1.664119 seconds
2022-04-12 15:26:50,712 142989 INFO     [tem
    pest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.048s
2022-04-12 15:26:50,713 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-da62a25c-0e4e-41e8-b13a-a6b0978acad1', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-da62a25c-0e4e-41e8-b13a-a6b0978acad1', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:50,805 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 202 DELETE http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.056s
2022-04-12 15:26:50,805 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '0', 'content-type': 'text/html; charset=UTF-8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-53ecaa5e-234a-4d51-b80b-1504aae8ed1b', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b''
2022-04-12 15:26:50,851 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.045s
2022-04-12 15:26:50,852 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-d0fd8e6f-e71b-4b4e-8618-f34437448c36', 'content-length': '915', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d0fd8e6f-e71b-4b4e-8618-f34437448c36', 'connection': 'close', 'status': '200', 'content-location': 'http://1
    92.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"volume": {"id": "dfeb8c32-009b-4009-8d82-6588a2e65152", "status": "deleting", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:49.000000", "updated_at": "2022-04-12T15:26:51.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-1999439552", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:51,891 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 404 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152 0.027s
2022-04-12 15:26:51,892 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'content-length': '109', 'content-type': 'application/json', 'x-compute-request-id': 'req-382b6a9e-ae8a-4f5e-84a6-c6da6c0a8b3e', 'x-openstack-request-id': 'req-382b6a9e-ae8a-4f5e-84a6-c6da6c0a8b3e', 'connection': 'close', 'status': '404', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/dfeb8c32-009b-4009-8d82-6588a2e65152'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Volume dfeb8c32-009b-4009-8d82-6588a2e65152 could not be found."}}'


tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer[id-8911036f-9d54-4720-80cc-a1c9796a8805]
-----------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas.py", line 181, in test_quota_usage_after_volume_transfer
    self.assertEqual(alt_quota['gigabytes']['in_use'] +

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 393, in assertEqual
    self.assertThat(observed, matcher, message)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 1 != 0


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:26:52,669 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 202 POST http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes 0.771s
2022-04-12 15:26:52,669 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-d1a9a3fd-05e6-4b07-9c72-fbc637e43b9d', 'content-length': '821', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d1a9a3fd-05e6-4b07-9c72-fbc637e43b9d', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.145290", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": []}}'
2022-04-12 15:26:52,711 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.035s
2022-04-12 15:26:52,711 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-ad6f14b7-331d-4d47-bae8-4dffb634ea64', 'content-length': '889', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ad6f14b7-331d-4d47-bae8-4dffb634ea64', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": null, "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:53,759 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.043s
2022-04-12 15:26:53,
    760 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-d02e2002-65ba-48cb-aac2-80b3f83ed21e', 'content-length': '914', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d02e2002-65ba-48cb-aac2-80b3f83ed21e', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": "2022-04-12T15:26:53.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "6039bc61b9bc4fa3965a34689e637aef", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:53,763 142989 INFO     [tempest.common.waiters] volume 04308a0d-a983-4abc-a138-b72d38083552 reached available after waiting for 1.763325 seconds
2022-04-12 15:26:53,805 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.042s
2022-04-12 15:26:53,805 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-625dec48-1ecb-4900-ad8f-cfac9e0e47db', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-625dec48-1ecb-4900-ad8f-cfac9e0e47db', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "9
    85b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:53,808 142989 WARNING  [tempest.lib.common.rest_client] Deprecated: "tenant_id" property is deprecated for removal, use "project_id" instead
2022-04-12 15:26:53,846 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True 0.038s
2022-04-12 15:26:53,847 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-cde1b08b-bbc0-49b7-a09f-a25c71344d96', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cde1b08b-bbc0-49b7-a09f-a25c71344d96', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "5a552b06e93b46e6a540ac4b73abfb87"}}'
2022-04-12 15:26:53,908 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 202 POST http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer 0.057s
2022-04-12 15:26:53,908 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"transfer": {"volume_id": "04308a0d-a983-4abc-a138-b72d38083552"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-22408e08-9dbc-46f2-afed-f20f8c2afbad', 'content-length': '511', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-22408e08-9dbc-46f2-afed-f20f8c2afbad', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer'}
        Body: b'{"transfer": {"id": "b9f61e90-5233-4be4-8c7a-3c425ea6d066", "created_at": "2022-04-12T15:26:53.898315", "name": null, "volume_id": "04308a0d-a983-4abc-a138-b72d38083552", "auth_key": "9e5dde9ba5556a09", "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/985b7b6d4f774ce8847db5f00277613d/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}]}}'
2022-04-12 15:26:54,484 142989
     INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 202 POST http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066/accept 0.574s
2022-04-12 15:26:54,485 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"accept": {"auth_key": "9e5dde9ba5556a09"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-660f231f-6d26-4952-b609-b901f993b7df', 'content-length': '435', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-660f231f-6d26-4952-b609-b901f993b7df', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066/accept'}
        Body: b'{"transfer": {"id": "b9f61e90-5233-4be4-8c7a-3c425ea6d066", "volume_id": "04308a0d-a983-4abc-a138-b72d38083552", "name": null, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/5a552b06e93b46e6a540ac4b73abfb87/os-volume-transfer/b9f61e90-5233-4be4-8c7a-3c425ea6d066"}]}}'
2022-04-12 15:26:54,523 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.036s
2022-04-12 15:26:54,524 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-b3229f92-2a1b-440a-818c-efc78939153f', 'content-length': '914', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b3229f92-2a1b-440a-818c-efc78939153f', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": "2022-04-12T15:26:54.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/5a552b06e93b46e6a540ac4b73abfb87/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "b799e20172134a56b8aa37435648fb3d", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "os-vol-tenant-attr:tenant_id": "5a552b06e93b46e6a540ac4b73abfb87"}}'
2022-04-12 15:26:54,527 142989 INFO     [tempest.common.waiters] volume 04308a0d-a983-4abc-a138-b72d38083552 reached available after waiting for 0.527451 seconds
2022-04-12 15:26:54,572 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True 0.044s
2022-04-12 15:26:54,572 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth
    -Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-05a585cb-fd61-42b0-9ea7-9ad88f60d72f', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-05a585cb-fd61-42b0-9ea7-9ad88f60d72f', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/985b7b6d4f774ce8847db5f00277613d?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use": 0, "reserved": 0}, "id": "985b7b6d4f774ce8847db5f00277613d"}}'
2022-04-12 15:26:54,634 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:test_quota_usage_after_volume_transfer): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True 0.057s
2022-04-12 15:26:54,635 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-cacaa3bb-f7b8-46b3-8fe9-96955c911bd4', 'content-length': '1236', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cacaa3bb-f7b8-46b3-8fe9-96955c911bd4', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/os-quota-sets/5a552b06e93b46e6a540ac4b73abfb87?usage=True'}
        Body: b'{"quota_set": {"volumes": {"limit": 10, "in_use": 0, "reserved": 0}, "per_volume_gigabytes": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots": {"limit": 10, "in_use": 0, "reserved": 0}, "gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "backups": {"limit": 10, "in_use": 0, "reserved": 0}, "backup_gigabytes": {"limit": 1000, "in_use": 0, "reserved": 0}, "volumes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par2": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_3par1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots_lvmdriver-1": {"limit": -1, "in_use": 0, "reserved": 0}, "volumes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "gigabytes___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "snapshots___DEFAULT__": {"limit": -1, "in_use": 0, "reserved": 0}, "groups": {"limit": 10, "in_use":
     0, "reserved": 0}, "id": "5a552b06e93b46e6a540ac4b73abfb87"}}'
2022-04-12 15:26:54,693 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 202 DELETE http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.052s
2022-04-12 15:26:54,693 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '0', 'content-type': 'text/html; charset=UTF-8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-465069ac-d702-4d55-af90-7c775e3f6c9b', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b''
2022-04-12 15:26:54,739 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 200 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.045s
2022-04-12 15:26:54,739 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-57b89ec5-948b-4ee6-a47b-6209d2141d33', 'content-length': '1072', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-57b89ec5-948b-4ee6-a47b-6209d2141d33', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552'}
        Body: b'{"volume": {"id": "04308a0d-a983-4abc-a138-b72d38083552", "status": "deleting", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:26:52.000000", "updated_at": "2022-04-12T15:26:55.000000", "name": "tempest-VolumeQuotasAdminTestJSON-Volume-74833710", "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552"}], "user_id": "b799e20172134a56b8aa37435648fb3d", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "os-vol-tenant-attr:tenant_id": "5a552b06e93b46e6a540ac4b73abfb87", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-host-attr:host": "ubuntu@3par1#RT_DEST_CPG"}}'
2022-04-12 15:26:55,770 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasAdminTestJSON:_run_cleanups): 404 GET http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a138-b72d38083552 0.024s
2022-04-12 15:26:55,771 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:26:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'content-length': '109', 'content-type': 'application/json', 'x-compute-request-id': 'req-b1350cf7-1bd2-4065-897c-992b9936e4b6', 'x-openstack-request-id': 'req-b1350cf7-1bd2-4065-897c-992b9936e4b6', 'connection': 'close', 'status': '404', 'content-location': 'http://192.168.79.47/volume/v3/8b81cfbff71e489d8e2820d6b04bd0af/volumes/04308a0d-a983-4abc-a1
    38-b72d38083552'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Volume 04308a0d-a983-4abc-a138-b72d38083552 could not be found."}}'


tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes[id-bf544854-d62a-47f2-a681-90f7a47d86b6,negative]
------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas_negative.py", line 59, in test_quota_volumes
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method VolumesClient.create_volume of <tempest.lib.services.volume.v3.volumes_client.VolumesClient object at 0x7f59e054e4c0>> returned {'volume': {'id': '3ab8150d-5bed-4331-bc2d-a0dc334acf01', 'status': 'creating', 'size': 1, 'availability_zone': 'nova', 'created_at': '2022-04-12T15:27:01.215228', 'updated_at': None, 'name': None, 'description': None, 'volume_type': '3par1', 'snapshot_id': None, 'source_volid': None, 'metadata': {}, 'links': [{'rel': 'self', 'href': 'http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01'}, {'rel': 'bookmark', 'href': 'http://192.168.79.47/volume/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01'}], 'user_id': 'fa946fc1158d4402a601fa4352434de1', 'bootable': 'false', 'encrypted': False, 'replication_status': None, 'consistencygroup_id': None, 'multiattach': False, 'attachments': []}}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:01,105 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_quota_volumes): 200 PUT http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4 0.104s
2022-04-12 15:27:01,105 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"volumes": 1, "gigabytes": -1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-f6717088-c100-466e-8b94-c1c6b92830d7', 'content-length': '450', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f6717088-c100-466e-8b94-c1c6b92830d7', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 10, "gigabytes": -1, "backups": 10, "backup_gigabytes": 1000, "volumes_3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'
2022-04-12 15:27:01,283 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_quota_volumes): 202 POST http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes 0.174s
2022-04-12 15:27:01,284 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-53079da1-2947-432a-89f1-99ad8ca10f4f', 'content-length': '774', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-53079da1-2947-432a-89f1-99ad8ca10f4f', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes'}
        Body: b'{"volume": {"id": "3ab8150d-5bed-4331-bc2d-a0dc334acf01", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-12T15:27:01.215228", "updated_at": null, "name": null, "description": null, "volume_type": "3par1", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01"}, {"rel": "bookmark", "href": "http://192.168.79.47/volume/a5ee78a864f04f41b4ff1d8a991863e4/volumes/3ab8150d-5bed-4331-bc2d-a0dc334acf01"}], "user_id": "fa946fc1158d4402a601fa4352434de1", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": []}}'


tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation[id-d321dc21-d8c6-401f-95fe-49f4845f1a6d,negative]
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_quotas_negative.py", line 79, in test_volume_extend_gigabytes_quota_deviation
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method VolumesClient.extend_volume of <tempest.lib.services.volume.v3.volumes_client.VolumesClient object at 0x7f59e054e4c0>> returned {}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:01,356 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_volume_extend_gigabytes_quota_deviation): 200 PUT http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4 0.064s
2022-04-12 15:27:01,357 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"gigabytes": 1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-bb639cd8-2554-4f04-b9b4-202eb4b10f6b', 'content-length': '449', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-bb639cd8-2554-4f04-b9b4-202eb4b10f6b', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/720d380dd7d44d43aae9785909cfd15c/os-quota-sets/a5ee78a864f04f41b4ff1d8a991863e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 10, "gigabytes": 1, "backups": 10, "backup_gigabytes": 1000, "volumes_3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'
2022-04-12 15:27:01,453 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeQuotasNegativeTestJSON:test_volume_extend_gigabytes_quota_deviation): 202 POST http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/2341101f-a8c0-4585-bc39-32f3efb106c8/action 0.094s
2022-04-12 15:27:01,453 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"os-extend": {"new_size": 2}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'x-compute-request-id': 'req-b275abf9-40e7-495a-ac68-6bf717cdc203', 'content-length': '0', 'content-type': 'application/json', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b275abf9-40e7-495a-ac68-6bf717cdc203', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/a5ee78a864f04f41b4ff1d8a991863e4/volumes/2341101f-a8c0-4585-bc39-32f3efb106c8/action'}
        Body: b''


tearDownClass (tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON)
-------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 220, in tearDownClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 192, in tearDownClass
    teardown()

      File "/opt/stack/tempest/tempest/test.py", line 602, in resource_cleanup
    raise testtools.MultipleExceptions(*cleanup_errors)

    testtools.runtest.MultipleExceptions: (<class 'tempest.lib.exceptions.BadRequest'>, Bad request
Details: {'code': 400, 'message': 'Invalid volume: Volume status must be available or error or error_restoring or error_extending or error_managing and must not be migrating, attached, belong to a group, have snapshots or be disassociated from snapshots after volume transfer.'}, <traceback object at 0x7f59e0428540>)


tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots[id-c99a1ca9-6cdf-498d-9fdf-25832babef27,negative]
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py", line 88, in test_quota_volume_gigabytes_snapshots
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method SnapshotsClient.create_snapshot of <tempest.lib.services.volume.v3.snapshots_client.SnapshotsClient object at 0x7f59dffdf6d0>> returned {'snapshot': {'id': '876a1074-d8da-4f90-a9b0-b47ab627d060', 'created_at': '2022-04-12T15:27:21.445683', 'updated_at': None, 'name': None, 'description': None, 'volume_id': 'cf886fb3-74ed-4071-8915-383188faf71b', 'status': 'creating', 'size': 1, 'metadata': {}}}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:21,373 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:test_quota_volume_gigabytes_snapshots): 200 PUT http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4 0.087s
2022-04-12 15:27:21,373 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"gigabytes": 2, "volumes": 1, "snapshots": 2}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-487d7cda-6b17-46c0-bafe-04ee2dd640ee', 'content-length': '448', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-487d7cda-6b17-46c0-bafe-04ee2dd640ee', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 2, "gigabytes": 2, "backups": 10, "backup_gigabytes": 1000, "volumes_3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'
2022-04-12 15:27:21,514 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:test_quota_volume_gigabytes_snapshots): 202 POST http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots 0.137s
2022-04-12 15:27:21,514 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "cf886fb3-74ed-4071-8915-383188faf71b"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-3f135b44-297e-48e7-a32f-5f2865cab02f', 'content-length': '261', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3f135b44-297e-48e7-a32f-5f2865cab02f', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots'}
        Body: b'{"snapshot": {"id": "876a1074-d8da-4f90-a9b0-b47ab627d060", "created_at": "2022-04-12T15:27:21.445683", "updated_at": null, "name": null, "description": null, "volume_id": "cf886fb3-74ed-4071-8915-383188faf71b", "status": "creating", "size": 1, "metadata": {}}}'
2022-04-12 15:27:21,598 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:_run_cleanups): 200 PUT http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4 0.080s
2022-04-12 15:27:21,598 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"quota_set": {"gigabytes": 3, "volumes": 1, "snapshots": 1}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-e0d040be-3411-454f-8e81-bc02062b92f6', 'content-length': '448', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-e0d040be-3411-454f-8e81-bc02062b92f6', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/e597e5669ed3475689729b96302ae008/os-quota-sets/e97192e0b9d340a3a9cc75e31fc0e4e4'}
        Body: b'{"quota_set": {"volumes": 1, "per_volume_gigabytes": -1, "snapshots": 1, "gigabytes": 3, "backups": 10, "backup_gigabytes": 1000, "volumes
    _3par2": -1, "gigabytes_3par2": -1, "snapshots_3par2": -1, "volumes_3par1": -1, "gigabytes_3par1": -1, "snapshots_3par1": -1, "volumes_lvmdriver-1": -1, "gigabytes_lvmdriver-1": -1, "snapshots_lvmdriver-1": -1, "volumes___DEFAULT__": -1, "gigabytes___DEFAULT__": -1, "snapshots___DEFAULT__": -1, "groups": 10}}'


tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots[id-02bbf63f-6c05-4357-9d98-2926a94064ff,negative]
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py", line 72, in test_quota_volume_snapshots
    self.assertRaises(lib_exc.OverLimit,

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 467, in assertRaises
    self.assertThat(our_callable, matcher)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: <bound method SnapshotsClient.create_snapshot of <tempest.lib.services.volume.v3.snapshots_client.SnapshotsClient object at 0x7f59dffdf6d0>> returned {'snapshot': {'id': 'd6a1e564-b69a-4b41-98ec-9e8a103bb844', 'created_at': '2022-04-12T15:27:21.666515', 'updated_at': None, 'name': None, 'description': None, 'volume_id': 'cf886fb3-74ed-4071-8915-383188faf71b', 'status': 'creating', 'size': 1, 'metadata': {}}}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:27:21,713 142989 INFO     [tempest.lib.common.rest_client] Request (VolumeSnapshotQuotasNegativeTestJSON:test_quota_volume_snapshots): 202 POST http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots 0.110s
2022-04-12 15:27:21,714 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "cf886fb3-74ed-4071-8915-383188faf71b"}}
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:27:21 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-c2746a17-a033-4f3d-a365-731039dbb9c4', 'content-length': '261', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c2746a17-a033-4f3d-a365-731039dbb9c4', 'connection': 'close', 'status': '202', 'content-location': 'http://192.168.79.47/volume/v3/e97192e0b9d340a3a9cc75e31fc0e4e4/snapshots'}
        Body: b'{"snapshot": {"id": "d6a1e564-b69a-4b41-98ec-9e8a103bb844", "created_at": "2022-04-12T15:27:21.666515", "updated_at": null, "name": null, "description": null, "volume_id": "cf886fb3-74ed-4071-8915-383188faf71b", "status": "creating", "size": 1, "metadata": {}}}'


tearDownClass (tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON)
------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/test.py", line 220, in tearDownClass
    raise value.with_traceback(trace)

      File "/opt/stack/tempest/tempest/test.py", line 192, in tearDownClass
    teardown()

      File "/opt/stack/tempest/tempest/test.py", line 602, in resource_cleanup
    raise testtools.MultipleExceptions(*cleanup_errors)

    testtools.runtest.MultipleExceptions: (<class 'tempest.lib.exceptions.BadRequest'>, Bad request
Details: {'code': 400, 'message': 'Invalid volume: Volume status must be available or error or error_restoring or error_extending or error_managing and must not be migrating, attached, belong to a group, have snapshots or be disassociated from snapshots after volume transfer.'}, <traceback object at 0x7f59dfee41c0>)


tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits[id-8e943f53-e9d6-4272-b2e9-adcf2f7c29ad]
-------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/opt/stack/tempest/tempest/api/volume/test_volume_absolute_limits.py", line 53, in test_get_volume_absolute_limits
    self.assertEqual(absolute_limits['totalGigabytesUsed'],

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 393, in assertEqual
    self.assertThat(observed, matcher, message)

      File "/usr/local/lib/python3.8/dist-packages/testtools/testcase.py", line 480, in assertThat
    raise mismatch_error

    testtools.matchers._impl.MismatchError: 0 != 1


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-12 15:31:10,683 142989 INFO     [tempest.lib.common.rest_client] Request (AbsoluteLimitsTests:test_get_volume_absolute_limits): 200 GET http://192.168.79.47/volume/v3/75bc603c8d3b42d6ae9ad57ff064140d/limits 0.044s
2022-04-12 15:31:10,683 142989 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 12 Apr 2022 15:31:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-type': 'application/json', 'x-compute-request-id': 'req-4bc1cd5d-b976-4b9c-9da9-53a949dad3aa', 'content-length': '302', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-4bc1cd5d-b976-4b9c-9da9-53a949dad3aa', 'connection': 'close', 'status': '200', 'content-location': 'http://192.168.79.47/volume/v3/75bc603c8d3b42d6ae9ad57ff064140d/limits'}
        Body: b'{"limits": {"rate": [], "absolute": {"maxTotalVolumes": 10, "maxTotalSnapshots": 10, "maxTotalVolumeGigabytes": 1000, "maxTotalBackups": 10, "maxTotalBackupGigabytes": 1000, "totalVolumesUsed": 0, "totalGigabytesUsed": 0, "totalSnapshotsUsed": 0, "totalBackupsUsed": 0, "totalBackupGigabytesUsed": 0}}}'



======
Totals
======
Ran: 247 tests in 1392.4876 sec.
 - Passed: 229
 - Skipped: 9
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 9
Sum of execute time for each test: 1006.7889 sec.

==============
Worker Balance
==============
 - Worker 0 (247 tests) => 0:23:12.487551
